[
    {
        "children": [],
        "_id": "675c4709677ba7f967d9f1a0",
        "node": "675c4709677ba7a13bd9f19f",
        "next": "675ed7fcadc7668b67a3b01d",
        "_data": {
            "_id": "675c4709677ba7a13bd9f19f",
            "referenceId": "a4d6a046-b456-472a-8162-6ee8b8a038c8",
            "type": "start",
            "label": "Start",
            "comment": "",
            "commentColor": "",
            "analyticsLabel": null,
            "isDisabled": false,
            "isEntryPoint": true,
            "extension": "@cognigy/basic-nodes",
            "config": {},
            "preview": "",
            "localeReference": "6759f148adc76698bc90c4c6"
        }
    },
    {
        "children": [],
        "_id": "675c4709677ba71604d9f1ad",
        "node": "675c4709677ba72532d9f1aa",
        "next": null,
        "_data": {
            "_id": "675c4709677ba72532d9f1aa",
            "referenceId": "01556fd9-0aec-45a7-b222-52da10f2a35e",
            "type": "end",
            "label": "End",
            "comment": "",
            "commentColor": "",
            "analyticsLabel": null,
            "isDisabled": false,
            "isEntryPoint": false,
            "extension": "@cognigy/basic-nodes",
            "config": {},
            "preview": "",
            "localeReference": "6759f148adc76698bc90c4c6"
        }
    },
    {
        "children": [],
        "_id": "675ed12aadc766de3da39e60",
        "node": "675ed12aadc7661d8ea39e5d",
        "next": "675ed14fadc7665a42a39ebb",
        "_data": {
            "_id": "675ed12aadc7661d8ea39e5d",
            "referenceId": "7c72fad5-e546-402b-aa27-7d9a0b6082ce",
            "type": "code",
            "label": "C: Extract session configs",
            "comment": "",
            "commentColor": "",
            "analyticsLabel": null,
            "isDisabled": false,
            "isEntryPoint": false,
            "extension": "@cognigy/basic-nodes",
            "config": {
                "code": "//Extract the session configs \r\n\r\ntry {\r\n    cc.sessionInformation.setSessionConfigs ??= {}\r\n    cc.sessionInformation.setSessionConfigs.userTimeout ??= cc.sessionInformation.sessionConfigDefaults.userTimeout\r\n    cc.sessionInformation.setSessionConfigs.bargeIn ??= cc.sessionInformation.sessionConfigDefaults.bargeIn\r\n    cc.sessionInformation.setSessionConfigs.bargeInOnDtmf ??= cc.sessionInformation.sessionConfigDefaults.bargeInOnDtmf\r\n    cc.sessionInformation.setSessionConfigs.bargeInOnSpeech ??= cc.sessionInformation.sessionConfigDefaults.bargeInOnSpeech\r\n    cc.sessionInformation.setSessionConfigs.asr ??= cc.sessionInformation.sessionConfigDefaults.asr\r\n    cc.sessionInformation.setSessionConfigs.asrTimeout ??= cc.sessionInformation.sessionConfigDefaults.asrTimeout\r\n\r\n    //Build Voice Gateway advanced parameters object\r\n    cc.sessionInformation.setSessionConfigs.advancedParameters = {\r\n        \"user\": {\r\n            \"noInputMode\": \"event\",\r\n            \"noInputTimeout\": cc.sessionInformation.setSessionConfigs.userTimeout\r\n        },\r\n        \"continuousAsr\": {\r\n            \"asrEnabled\": cc.sessionInformation.setSessionConfigs.asr,\r\n            \"asrTimeout\": cc.sessionInformation.setSessionConfigs.asrTimeout\r\n        },\r\n        \"bargeIn\": {\r\n            \"bargeInEnable\": cc.sessionInformation.setSessionConfigs.bargeIn,\r\n            \"bargeInOnDtmf\": cc.sessionInformation.setSessionConfigs.bargeInOnDtmf,\r\n            \"bargeInOnSpeech\": cc.sessionInformation.setSessionConfigs.bargeInOnSpeech,\r\n            \"bargeInMinimunWords\": 1\r\n        }\r\n    }\r\n} catch(error) {\r\n    api.log(\"error\", `[BF_01_Set Session Configs; C: Extract session configs] Error Message: ${error.toString()}`)\r\n}",
                "hasError": false,
                "transpiled": "var _a, _b, _c, _d, _e, _f, _g;\nvar _h, _j, _k, _l, _m, _o, _p;\ntry {\n    (_a = (_h = cc.sessionInformation).setSessionConfigs) !== null && _a !== void 0 ? _a : (_h.setSessionConfigs = {});\n    (_b = (_j = cc.sessionInformation.setSessionConfigs).userTimeout) !== null && _b !== void 0 ? _b : (_j.userTimeout = cc.sessionInformation.sessionConfigDefaults.userTimeout);\n    (_c = (_k = cc.sessionInformation.setSessionConfigs).bargeIn) !== null && _c !== void 0 ? _c : (_k.bargeIn = cc.sessionInformation.sessionConfigDefaults.bargeIn);\n    (_d = (_l = cc.sessionInformation.setSessionConfigs).bargeInOnDtmf) !== null && _d !== void 0 ? _d : (_l.bargeInOnDtmf = cc.sessionInformation.sessionConfigDefaults.bargeInOnDtmf);\n    (_e = (_m = cc.sessionInformation.setSessionConfigs).bargeInOnSpeech) !== null && _e !== void 0 ? _e : (_m.bargeInOnSpeech = cc.sessionInformation.sessionConfigDefaults.bargeInOnSpeech);\n    (_f = (_o = cc.sessionInformation.setSessionConfigs).asr) !== null && _f !== void 0 ? _f : (_o.asr = cc.sessionInformation.sessionConfigDefaults.asr);\n    (_g = (_p = cc.sessionInformation.setSessionConfigs).asrTimeout) !== null && _g !== void 0 ? _g : (_p.asrTimeout = cc.sessionInformation.sessionConfigDefaults.asrTimeout);\n    cc.sessionInformation.setSessionConfigs.advancedParameters = {\n        \"user\": {\n            \"noInputMode\": \"event\",\n            \"noInputTimeout\": cc.sessionInformation.setSessionConfigs.userTimeout\n        },\n        \"continuousAsr\": {\n            \"asrEnabled\": cc.sessionInformation.setSessionConfigs.asr,\n            \"asrTimeout\": cc.sessionInformation.setSessionConfigs.asrTimeout\n        },\n        \"bargeIn\": {\n            \"bargeInEnable\": cc.sessionInformation.setSessionConfigs.bargeIn,\n            \"bargeInOnDtmf\": cc.sessionInformation.setSessionConfigs.bargeInOnDtmf,\n            \"bargeInOnSpeech\": cc.sessionInformation.setSessionConfigs.bargeInOnSpeech,\n            \"bargeInMinimunWords\": 1\n        }\n    };\n}\ncatch (error) {\n    api.log(\"error\", `[BF_01_Set Session Configs; C: Extract session configs] Error Message: ${error.toString()}`);\n}\n"
            },
            "preview": "",
            "localeReference": "6759f148adc76698bc90c4c6"
        }
    },
    {
        "children": [],
        "_id": "675ed14fadc766aebea39ebe",
        "node": "675ed14fadc7665a42a39ebb",
        "next": "675ed710adc76609b5a3ad0b",
        "_data": {
            "_id": "675ed14fadc7665a42a39ebb",
            "referenceId": "e9d4abde-e095-455b-bd81-10c94d68e7fc",
            "type": "setSessionConfig",
            "label": "Set Session Config",
            "comment": "",
            "commentColor": "",
            "analyticsLabel": null,
            "isDisabled": false,
            "isEntryPoint": false,
            "extension": "@cognigy/voicegateway2",
            "config": {
                "bargeInMinWordCount": 1,
                "bargeInOnSpeech": false,
                "bargeInOnDtmf": false,
                "deepgramEndpointing": true,
                "deepgramEndpointingValue": 250,
                "deepgramSmartFormatting": false,
                "sttHints": [
                    ""
                ],
                "sttDisablePunctuation": false,
                "sttVadEnabled": false,
                "sttHintsDynamicHints": "",
                "sttLabel": "",
                "sttVadMode": 1,
                "sttVadVoiceMs": 100,
                "ttsDisableCache": false,
                "sttVendor": "",
                "sttLanguage": "",
                "sttDeepgramModel": "",
                "ttsVendor": "",
                "ttsModel": "",
                "ttsVoice": "",
                "ttsLanguage": "",
                "ttsLabel": "",
                "userNoInputTimeoutEnable": true,
                "userNoInputMode": "event",
                "userNoInputTimeout": "",
                "userNoInputRetries": "",
                "userNoInputSpeech": "",
                "userNoInputUrl": "",
                "flowNoInputTimeoutEnable": false,
                "flowNoInputMode": "play",
                "flowNoInputTimeout": 10000,
                "flowNoInputRetries": 1,
                "flowNoInputSpeech": "",
                "flowNoInputUrl": "",
                "flowNoInputFail": false,
                "dtmfEnable": false,
                "dtmfInterDigitTimeout": 2000,
                "dtmfMaxDigits": 1,
                "dtmfMinDigits": 1,
                "dtmfSubmitDigit": "#",
                "asrDigit": "",
                "asrEnabled": false,
                "asrTimeout": 2000,
                "recognizeLanguagesAzure": false,
                "sttAzure": "",
                "sttAzureLang1": "",
                "sttAzureLang2": "",
                "sttAzureLang3": "",
                "recognizeLanguagesGoogle": false,
                "sttGoogle": "",
                "sttGoogleLang1": "",
                "sttGoogleLang2": "",
                "sttGoogleLang3": "",
                "enableAdvancedSTTConfig": false,
                "azureSttContextId": "",
                "azureEnableAudioLogging": false,
                "atmosphereAction": "",
                "atmosphereLoop": true,
                "atmosphereVolume": 0,
                "atmosphereUrl": "",
                "silenceOverlayAction": "",
                "silenceOverlayURL": "",
                "silenceOverlayDelay": 0,
                "googleModel": "latest_short",
                "sessionParams": "\"{{cc.sessionInformation.setSessionConfigs.advancedParameters}}\""
            },
            "preview": "",
            "localeReference": "6759f148adc76698bc90c4c6"
        }
    },
    {
        "children": [],
        "_id": "675ed710adc7665e4ca3ad0e",
        "node": "675ed710adc76609b5a3ad0b",
        "next": "675c4709677ba72532d9f1aa",
        "_data": {
            "_id": "675ed710adc76609b5a3ad0b",
            "referenceId": "892dbda0-e065-469b-a636-e2890fbc8fe3",
            "type": "removeFromContext",
            "label": "RC: setSessionConfigs",
            "comment": "",
            "commentColor": "",
            "analyticsLabel": null,
            "isDisabled": false,
            "isEntryPoint": false,
            "extension": "@cognigy/basic-nodes",
            "config": {
                "key": "sessionInformation.setSessionConfigs",
                "mode": "simple",
                "value": ""
            },
            "preview": "sessionInformation.setSessionConfigs",
            "localeReference": "6759f148adc76698bc90c4c6"
        }
    },
    {
        "children": [],
        "_id": "675ed7fcadc766be75a3b020",
        "node": "675ed7fcadc7668b67a3b01d",
        "next": "675ed12aadc7661d8ea39e5d",
        "_data": {
            "_id": "675ed7fcadc7668b67a3b01d",
            "referenceId": "06efb0eb-b451-408c-ad67-4155e0d076dc",
            "type": "code",
            "label": "READ ME",
            "comment": "",
            "commentColor": "",
            "analyticsLabel": null,
            "isDisabled": false,
            "isEntryPoint": false,
            "extension": "@cognigy/basic-nodes",
            "config": {
                "code": "/* \r\nFlow Purpose\r\n\r\nThis flow is used to set the session config parameters dynamically. The default values are set in the Endpoint and are stored in the constants object. To change the values dynamically, assign the respective key to the cc.sessionInformation.setSessionConfigs object.\r\n\r\n\r\n\r\n---------------------------------------\r\nCONNECTION TO OTHER FLOWS\r\n\r\nThis flow invokes the following flows:\r\n\r\n\r\n\r\nThis flow gets invoked by the following flows:\r\nBF_01_Data Init\r\nAUTH_01_Contract\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n */",
                "hasError": false,
                "transpiled": ""
            },
            "preview": "",
            "localeReference": "6759f148adc76698bc90c4c6"
        }
    }
]